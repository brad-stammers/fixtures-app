{{#if this._isOpen}}
  {{#if (macroCondition (macroGetOwnConfig "isBS4"))}}
    <EmberPopper
      class="dropdown-menu {{this.alignClass}} {{if this.isOpen "show"}} {{@class}}"
      @placement={{this.popperPlacement}}
      @popperTarget={{this.toggleElement}}
      @renderInPlace={{this._renderInPlace}}
      @popperContainer={{this.destinationElement}}
      @modifiers={{this.popperModifiers}}
      @onCreate={{this.setFocus}}
      tabindex="-1"
      ...attributes
      {{did-insert @registerChildElement "menu"}}
      {{will-destroy @unregisterChildElement "menu"}}
      {{create-ref "menuElement"}}
    >
      {{yield
        (hash
          item=(component this.itemComponent)
          link-to=(component this.linkToComponent)
          linkTo=(component this.linkToComponent)
          divider=(component this.dividerComponent)
        )
      }}
    </EmberPopper>
  {{/if}}
  {{#if (macroCondition (macroGetOwnConfig "isBS3"))}}
    <EmberPopper
      class="ember-bootstrap-dropdown-bs3-popper"
      @placement={{this.popperPlacement}}
      @popperTarget={{this.toggleElement}}
      @renderInPlace={{this._renderInPlace}}
      @popperContainer={{this.destinationElement}}
      @modifiers={{this.popperModifiers}}
      @onCreate={{this.setFocus}}
    >
      <ul
        class="dropdown-menu {{this.alignClass}} {{if this.isOpen "show"}} {{@class}}"
        role={{this.ariaRole}}
        tabindex="-1"
        ...attributes
        {{did-insert @registerChildElement "menu"}}
        {{will-destroy @unregisterChildElement "menu"}}
        {{create-ref "menuElement"}}
      >
        {{yield
          (hash
            item=(component this.itemComponent)
            link-to=(component this.linkToComponent)
            linkTo=(component this.linkToComponent)
            divider=(component this.dividerComponent)
          )
        }}
      </ul>
    </EmberPopper>
  {{/if}}
{{/if}}
